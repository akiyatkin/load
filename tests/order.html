<link data-name="bootstrap" rel="stylesheet" href="//bootswatch.com/4/cosmo/bootstrap.min.css">
<script type="module">
    import { Fire } from '/vendor/akiyatkin/load/Fire.js'

	let Test = { ...Fire }
	window.Test = Test
	;(async () => {
		Test.once('show', r => {
			console.log('ONCE', r)
		}).then(r => {
			console.log('AFTER', r)
		})
		
		Test.done('show', r => {
		 	console.log('done', r)
		})
		
		Test.before('show', r => {
		 	console.log('before', r)
		})
		Test.hand('show', r => {
			console.log('hand', r)
		})
		Test.after('show', r => {
		 	console.log('after', r)
		})
		Test.race('show', r => {
			console.log('race', r)
		})

		Test.fire('show',1); //fire через setTimeout перепрыгивает через все прописы

		Test.fire('show',2);
		
	})();
	
	// (async ()=> {
	// 	return
	// 	let test = 1;

	// 	(async ()=> {
	// 		if (test != 1) return
	// 		Promise.resolve().then( () => {
	// 			//if (test != 1) return
	// 			console.log(test)
	// 		})
	// 	})();
			
	// 	(async ()=> {
	// 		test = 2
	// 	})();
			

	// })();
</script>
<pre>
ONCE undefined
race 1
before 1
hand 1
after 1
done 1
race 2
before 2
hand 2
after 2
done 2
AFTER undefined
</pre>
<div class="d-flex border" style="overflow:hidden">
    <div id="tadam" class="border w-50">
        asdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfa
    </div>
    <div class="border" style="margin-left:-500px; margin-right:-300px">
        asdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfaasdf asd fas dfa
    </div>
</div>